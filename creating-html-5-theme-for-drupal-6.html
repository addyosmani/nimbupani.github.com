
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Creating HTML 5 theme for Drupal 6 - Blog of Divya Manian</title>
  <meta name="author" content="Divya Manian">

  
  <meta name="description" content="Since I write and tweet about HTML5 Koolaid, it is only appropriate that my website also incorporates the new and improved semantic elements of HTML5 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nimbupani.github.com/blog/creating-html-5-theme-for-drupal-6.html">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/nimbupani" rel="alternate" title="Blog of Divya Manian" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">Blog of Divya Manian</a></h1>
  
    <h2>Web Development Lemonade</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/nimbupani" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nimbupani.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Creating HTML 5 Theme for Drupal 6</h1>
    
    
      <p class="meta">
        




  

<time datetime="2009-12-16T00:00:00-08:00" pubdate>Dec 16<span>th</span>, 2009</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Since I <a href="/blog/web-design.html">write</a> and <a href="http://twitter.com/nimbuin">tweet</a> about HTML5 Koolaid, it is only appropriate that my website also incorporates the new and improved semantic elements of HTML5. I also figured it would be the right time to upgrade to Drupal 6. </p>


<p></p>

<p>Here is how you can create a theme which uses some of the new elements of HTML5. This is not the <em>only</em> way to do it, but simply my attempt at creating one. Please comment if you know of better ways to do it.</p>


<p></p>

<h3>Caveats</h3>


<ul><li>The new elements of HTML5 will not render correctly in Firefox 2 and below (you can see how this website renders in Firefox 2 to see the true extent of devastation). Your best bet is to output a class to body element — use that to style the page — if Firefox 2 makes a request, <a href="http://chrisschuld.com/projects/browser-php-detecting-a-users-browser-from-php/" title="Browser.php &#8211; Detecting a user&#8217;s browser from PHP | Chris Schuld's Blog">using PHP Browser Detection</a> (this script will cause crazy results on all browsers, if you enable caching).</li>  
<li>You need <a href="http://remysharp.com/2009/01/07/html5-enabling-script/" title="HTML5 enabling script">Remy Sharp’s HTML 5 enabling script</a> so that IE can recognize new HTML5 elements and apply the CSS correctly.</li></ul>


<p></p>

<p>Before you start creating a HTML5 Drupal theme, <a href="http://html5doctor.com/designing-a-blog-with-html5/" title="Designing a blog with html5 | HTML5 Doctor">read this post on creating a blog with HTML 5 markup</a>. That should give you all information you need on the markup. Then, start with an existing Drupal 6 theme that you want to convert to HTML5.</p>


<p></p>

<p>These are the template files I modifed: </p>


<ul>
    <li><code>page.tpl.php</code> - I divided the content into <code>header</code>, <code>footer</code>, <code>section</code> elements. I also used <code>nav</code> to be the container for the <code>primary links</code></li>
    <li><p><code>node.tpl.php</code> - Each node is an <code>article</code>. This is also where you can use the <code>time</code> element to mention the published date of a node: </p>
        <pre>
<code>&lt;time pubdate=&quot;pubdate&quot; datetime =&quot;&lt;?php echo format_date($created,&#x27;custom&#x27;, &#x27;Y-m-d&#x27;); ?&gt;&quot;&gt;
    &lt;?php echo format_date($created,&#x27;small&#x27;) ?&gt;
&lt;/time&gt; </code>
        </pre>              
        </li>
    <li><code>search-result.tpl.php</code> - I am not sure if this is correct, but I have marked up each search result as an <code>article</code>. </li>
    <li><code>search-results.tpl.php</code> - If you need a <a href="http://html5doctor.com/the-section-element/">sectioning element</a> around the search results, this is where you should add it.</li>
    <li><code>comment.tpl.php</code> - I used <code>article</code> to markup each comment. I also used <code>time</code> to render the publication date of a comment:
<pre><code>&lt;time pubdate=&quot;pubdate&quot; datetime =&quot;&lt;?php 
 echo format_date($comment-&gt;timestamp, &#x27;custom&#x27;, &#x27;Y-m-d\TH:i:s&#x27;); 
 $tzone = variable_get(&#x27;date_default_timezone&#x27;); 
 printf(&#x27;%s%02d:%02d&#x27;, ($tzone &lt; 0 ? &#x27;-&#x27; : &#x27;+&#x27;), abs($tzone / 3600), abs($tzone % 3600) / 60);
?&gt;&quot;&gt;
&lt;?php echo format_date($comment-&gt;timestamp, &#x27;small&#x27;)?&gt;
&lt;/time&gt;</code></pre>  
</li>
    <li><code>comment-wrapper.tpl.php</code> - In my theme, all comments are contained within a <code>section</code> which can be specified in this file.</li>
    <li><code>box.tpl.php</code> - I used <code>article</code> as a container for the comment form. This template renders the container for that form.</li>
    <li>Own Module — I had to create a module to use <code>article</code> to wrap the Advanced Search Form. Here is the code I used in the module:
    <pre><code>//nimbupani is the name of the module       
function nimbupani_form_alter(&amp;$form, $form_state, $form_id) {   
  if($form_id == &#x27;search_form&#x27;) {
    $form[&#x27;advanced&#x27;][&#x27;#prefix&#x27;]=&quot;&lt;article&gt;&quot;;
    $form[&#x27;advanced&#x27;][&#x27;#suffix&#x27;]=&quot;&lt;/article&gt;&quot;;      
  }  
}</code>
    </pre>  
    </li>   
</ul>




<p>The api.drupal.org has a <a href="http://api.drupal.org/api/search/6/.tpl.php" title="Search for .tpl.php | Drupal API">full list of all themable template files available to you in Drupal 6</a> if your theme requires more customization. </p>


<p>You can use <a href="http://html5.validator.nu/" title="Validator.nu (X)HTML5 Validator">validator.nu</a> to test your pages. But be warned, the validator is known to lag behind the specification. So, you might get false negatives, if so, ignore them if you know you are confirming to the latest specification.</p>




<h3>Further Work</h3>


<p>This is just scratching the surface, you can also make all form elements to use HTML5 attributes, and also add <a href="http://www.marcozehe.de/2009/10/31/easy-aria-tip-4-landmarks/">ARIA landmarks</a>. These are my focus areas for the next update to my theme.</p>


<p>Meanwhile, if there is any element that is incorrectly used on this site, or if you have any suggestions on how to make the site better, do comment!</p>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Divya Manian</span></span>

      




  

<time datetime="2009-12-16T00:00:00-08:00" pubdate>Dec 16<span>th</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://nimbupani.github.com/blog/creating-html-5-theme-for-drupal-6.html" data-via="divya" data-counturl="http://nimbupani.github.com/blog/creating-html-5-theme-for-drupal-6.html" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/css-references-for-mainstream-browsers.html" title="Previous Post: CSS References for Mainstream Browsers">&laquo; CSS References for Mainstream Browsers</a>
      
      
        <a class="basic-alignment right" href="/blog/presenting-your-self-online.html" title="next Post: Presenting Your Self Online">Presenting Your Self Online &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/this-revolution-needs-new-revolutionaries.html">This revolution needs new revolutionaries</a>
      </li>
    
      <li class="post">
        <a href="/blog/some-css-transition-hacks.html">Some CSS Transition hacks</a>
      </li>
    
      <li class="post">
        <a href="/blog/safe-css-defaults.html">Safe CSS Defaults</a>
      </li>
    
      <li class="post">
        <a href="/blog/unplugged-2011.html">Unplugged 2011</a>
      </li>
    
      <li class="post">
        <a href="/blog/bokeh-with-css3-gradients.html">Bokeh with CSS3 Gradients</a>
      </li>
    
  </ul>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("divya", 4, false);
    });
  </script>
  <script src="/blog/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/divya" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @divya</a>
  
</section>





  
</aside>



    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Divya Manian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'nimbu';
      
        
        var disqus_developer = 1;        
        var disqus_url = '/creating-html-5-theme-for-drupal-6.html';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
